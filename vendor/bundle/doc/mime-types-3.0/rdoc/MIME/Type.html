<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class MIME::Type - mime-types-3.0 Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    <div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">Comparable</span>
  
  
  </ul>
</div>

    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-i18n_key">::i18n_key</a>
    
    <li ><a href="#method-c-match">::match</a>
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-c-simplified">::simplified</a>
    
    <li ><a href="#method-c-simplify_matchdata">::simplify_matchdata</a>
    
    <li ><a href="#method-i-3C-3D-3E">#&lt;=&gt;</a>
    
    <li ><a href="#method-i-add_extensions">#add_extensions</a>
    
    <li ><a href="#method-i-ascii-3F">#ascii?</a>
    
    <li ><a href="#method-i-binary-3F">#binary?</a>
    
    <li ><a href="#method-i-complete-3F">#complete?</a>
    
    <li ><a href="#method-i-content_type-3D">#content_type=</a>
    
    <li ><a href="#method-i-default_encoding">#default_encoding</a>
    
    <li ><a href="#method-i-encode_with">#encode_with</a>
    
    <li ><a href="#method-i-eql-3F">#eql?</a>
    
    <li ><a href="#method-i-extensions">#extensions</a>
    
    <li ><a href="#method-i-friendly">#friendly</a>
    
    <li ><a href="#method-i-init_with">#init_with</a>
    
    <li ><a href="#method-i-like-3F">#like?</a>
    
    <li ><a href="#method-i-priority_compare">#priority_compare</a>
    
    <li ><a href="#method-i-to_h">#to_h</a>
    
    <li ><a href="#method-i-to_json">#to_json</a>
    
    <li ><a href="#method-i-to_s">#to_s</a>
    
    <li ><a href="#method-i-to_str">#to_str</a>
    
    <li ><a href="#method-i-xref_map">#xref_map</a>
    
    <li ><a href="#method-i-xref_url_for_draft">#xref_url_for_draft</a>
    
    <li ><a href="#method-i-xref_url_for_person">#xref_url_for_person</a>
    
    <li ><a href="#method-i-xref_url_for_rfc">#xref_url_for_rfc</a>
    
    <li ><a href="#method-i-xref_url_for_rfc_errata">#xref_url_for_rfc_errata</a>
    
    <li ><a href="#method-i-xref_url_for_template">#xref_url_for_template</a>
    
    <li ><a href="#method-i-xref_urls">#xref_urls</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-MIME::Type">
  <h1 id="class-MIME::Type" class="class">
    class MIME::Type
  </h1>

  <section class="description">
    
<p>The definition of one <a href="../MIME.html">MIME</a> content-type.</p>

<h2 id="class-MIME::Type-label-Usage">Usage<span><a href="#class-MIME::Type-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;mime/types&#39;</span>

<span class="ruby-identifier">plaintext</span> = <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span>[<span class="ruby-string">&#39;text/plain&#39;</span>].<span class="ruby-identifier">first</span>
<span class="ruby-comment"># returns [text/plain, text/plain]</span>
<span class="ruby-identifier">text</span> = <span class="ruby-identifier">plaintext</span>.<span class="ruby-identifier">first</span>
<span class="ruby-identifier">print</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">media_type</span>           <span class="ruby-comment"># =&gt; &#39;text&#39;</span>
<span class="ruby-identifier">print</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">sub_type</span>             <span class="ruby-comment"># =&gt; &#39;plain&#39;</span>

<span class="ruby-identifier">puts</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">extensions</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot; &quot;</span>)  <span class="ruby-comment"># =&gt; &#39;asc txt c cc h hh cpp&#39;</span>

<span class="ruby-identifier">puts</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">encoding</span>              <span class="ruby-comment"># =&gt; 8bit</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">binary?</span>               <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">ascii?</span>                <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">text</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;text/plain&#39;</span>       <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">puts</span> <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">simplified</span>(<span class="ruby-string">&#39;x-appl/x-zip&#39;</span>) <span class="ruby-comment"># =&gt; &#39;appl/zip&#39;</span>

<span class="ruby-identifier">puts</span> <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">type</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">type</span>.<span class="ruby-identifier">content_type</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;text/plain&#39;</span>
}                               <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">puts</span> <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span>.<span class="ruby-identifier">all?</span>(<span class="ruby-operator">&amp;</span>:<span class="ruby-identifier">registered?</span>)
                                <span class="ruby-comment"># =&gt; false</span>
</pre>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="VERSION">VERSION
        
        <dd><p>The released version of the mime-types library.</p>
        
      
      </dl>
    </section>
    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-content_type" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">content_type</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>Returns the whole <a href="../MIME.html">MIME</a> content-type string.</p>

<p>The content type is a presentation value from the <a
href="../MIME.html">MIME</a> type registry and should not be used for
comparison. The case of the content type is preserved, and extension
markers (<code>x-</code>) are kept.</p>

<pre>text/plain        =&gt; text/plain
x-chemical/x-pdb  =&gt; x-chemical/x-pdb
audio/QCELP       =&gt; audio/QCELP</pre>
        
        </div>
      </div>
      
      <div id="attribute-i-docs" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">docs</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The documentation for this <a href="Type.html">MIME::Type</a>.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-encoding" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">encoding</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The encoding (<code>7bit</code>, <code>8bit</code>,
<code>quoted-printable</code>, or <code>base64</code>) required to
transport the data of this content type safely across a network, which
roughly corresponds to Content-Transfer-Encoding. A value of
<code>nil</code> or <code>:default</code> will reset the <a
href="Type.html#attribute-i-encoding">encoding</a> to the <a
href="Type.html#method-i-default_encoding">default_encoding</a> for the <a
href="Type.html">MIME::Type</a>. Raises ArgumentError if the encoding
provided is invalid.</p>

<p>If the encoding is not provided on construction, this will be either
&#39;quoted-printable&#39; (for text/* media types) and &#39;base64&#39;
for eveything else.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-i18n_key" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">i18n_key</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>A key suitable for use as a lookup key for translations, such as with the
I18n library.</p>

<p>call-seq:</p>

<pre>text_plain.i18n_key # =&gt; &quot;text.plain&quot;
3gpp_xml.i18n_key   # =&gt; &quot;application.vnd-3gpp-bsf-xml&quot;
  # from application/vnd.3gpp.bsf+xml
x_msword.i18n_key   # =&gt; &quot;application.word&quot;
  # from application/x-msword</pre>
        
        </div>
      </div>
      
      <div id="attribute-i-media_type" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">media_type</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>Returns the media type of the simplified <a
href="Type.html">MIME::Type</a>.</p>

<pre>text/plain        =&gt; text
x-chemical/x-pdb  =&gt; x-chemical
audio/QCELP       =&gt; audio</pre>
        
        </div>
      </div>
      
      <div id="attribute-i-obsolete" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">obsolete</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Returns <code>true</code> if the media type is obsolete.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-obsolete-3F" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">obsolete?</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Returns <code>true</code> if the media type is obsolete.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-preferred_extension" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">preferred_extension</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The preferred extension for this <a href="../MIME.html">MIME</a> type. If
one is not set and there are exceptions defined, the first extension will
be used.</p>

<p>When setting preferred_extensions, if <a
href="Type.html#method-i-extensions">extensions</a> does not contain this
extension, this will be added to xtensions.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-raw_media_type" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">raw_media_type</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>Returns the media type of the unmodified <a
href="Type.html">MIME::Type</a>.</p>

<pre>text/plain        =&gt; text
x-chemical/x-pdb  =&gt; x-chemical
audio/QCELP       =&gt; audio</pre>
        
        </div>
      </div>
      
      <div id="attribute-i-raw_sub_type" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">raw_sub_type</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>Returns the media type of the unmodified <a
href="Type.html">MIME::Type</a>.</p>

<pre>text/plain        =&gt; plain
x-chemical/x-pdb  =&gt; x-pdb
audio/QCELP       =&gt; qcelp</pre>
        
        </div>
      </div>
      
      <div id="attribute-i-registered" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">registered</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Indicates whether the <a href="../MIME.html">MIME</a> type has been
registered with IANA.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-registered-3F" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">registered?</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Indicates whether the <a href="../MIME.html">MIME</a> type has been
registered with IANA.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-signature" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">signature</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Indicateswhether the <a href="../MIME.html">MIME</a> type is declared as a
signature type.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-signature-3F" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">signature?</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Indicateswhether the <a href="../MIME.html">MIME</a> type is declared as a
signature type.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-simplified" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">simplified</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>A simplified form of the <a href="../MIME.html">MIME</a> content-type
string, suitable for case-insensitive comparison, with any extension
markers (&lt;tt&gt;x-&lt;/tt) removed and converted to lowercase.</p>

<pre>text/plain        =&gt; text/plain
x-chemical/x-pdb  =&gt; x-chemical/x-pdb
audio/QCELP       =&gt; audio/qcelp</pre>
        
        </div>
      </div>
      
      <div id="attribute-i-sub_type" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">sub_type</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>Returns the sub-type of the simplified <a href="Type.html">MIME::Type</a>.</p>

<pre>text/plain        =&gt; plain
x-chemical/x-pdb  =&gt; pdb
audio/QCELP       =&gt; QCELP</pre>
        
        </div>
      </div>
      
      <div id="attribute-i-use_instead" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">use_instead</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Returns the media type or types that should be used instead of this media
type, if it is obsolete. If there is no replacement media type, or it is
not obsolete, <code>nil</code> will be returned.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-xrefs" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">xrefs</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The cross-references list for this <a href="Type.html">MIME::Type</a>.</p>
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-i18n_key" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">i18n_key</span><span
            class="method-args">(content_type)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts a provided <code>content_type</code> into a translation key
suitable for use with the I18n library.</p>
          
          

          
          <div class="method-source-code" id="i18n_key-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 498</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">i18n_key</span>(<span class="ruby-identifier">content_type</span>)
  <span class="ruby-identifier">simplify_matchdata</span>(<span class="ruby-identifier">match</span>(<span class="ruby-identifier">content_type</span>), <span class="ruby-identifier">joiner</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;.&#39;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">e</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-constant">I18N_RE</span>, <span class="ruby-string">&#39;-&#39;</span>.<span class="ruby-identifier">freeze</span>)
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-match" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">match</span><span
            class="method-args">(content_type)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a <code>MatchData</code> object of the <code>content_type</code>
against pattern of media types.</p>
          
          

          
          <div class="method-source-code" id="match-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 506</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">match</span>(<span class="ruby-identifier">content_type</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">content_type</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">MatchData</span>
    <span class="ruby-identifier">content_type</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">MEDIA_TYPE_RE</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">content_type</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(content_type) { |self| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Builds a <a href="Type.html">MIME::Type</a> object from the
<code>content_type</code>, a <a href="../MIME.html">MIME</a> Content <a
href="Type.html">Type</a> value (e.g., &#39;text/plain&#39; or
&#39;applicaton/x-eruby&#39;). The constructed object is yielded to an
optional block for additional configuration, such as associating extensions
and encoding information.</p>
<ul><li>
<p>When provided a Hash or a <a href="Type.html">MIME::Type</a>, the <a
href="Type.html">MIME::Type</a> will be constructed with <a
href="Type.html#method-i-init_with">init_with</a>.</p>
</li><li>
<p>When provided an Array, the <a href="Type.html">MIME::Type</a> will be
constructed using the first element as the content type and the remaining
flattened elements as extensions.</p>
</li><li>
<p>Otherwise, the <a
href="Type.html#attribute-i-content_type">#content_type</a> will be used as
a string.</p>
</li></ul>

<p>Yields the newly constructed <code>self</code> object.</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 87</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">content_type</span>) <span class="ruby-comment"># :yields self:</span>
  <span class="ruby-ivar">@friendly</span> = {}
  <span class="ruby-ivar">@obsolete</span> = <span class="ruby-ivar">@registered</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@preferred_extension</span> = <span class="ruby-ivar">@docs</span> = <span class="ruby-ivar">@use_instead</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">extensions</span> = []

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">content_type</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>
    <span class="ruby-identifier">init_with</span>(<span class="ruby-identifier">content_type</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">content_type</span> = <span class="ruby-identifier">content_type</span>.<span class="ruby-identifier">shift</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">extensions</span> = <span class="ruby-identifier">content_type</span>.<span class="ruby-identifier">flatten</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>
    <span class="ruby-identifier">init_with</span>(<span class="ruby-identifier">content_type</span>.<span class="ruby-identifier">to_h</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">content_type</span> = <span class="ruby-identifier">content_type</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">encoding</span> <span class="ruby-operator">||=</span> <span class="ruby-value">:default</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">xrefs</span> <span class="ruby-operator">||=</span> {}

  <span class="ruby-keyword">yield</span> <span class="ruby-keyword">self</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-simplified" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">simplified</span><span
            class="method-args">(content_type, remove_x_prefix: false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="../MIME.html">MIME</a> media types are case-insensitive, but are
typically presented in a case-preserving format in the type registry. This
method converts <code>content_type</code> to lowercase.</p>

<p>In previous versions of mime-types, this would also remove any extension
prefix (<code>x-</code>). This is no longer default behaviour, but may be
provided by providing a truth value to <code>remove_x_prefix</code>.</p>
          
          

          
          <div class="method-source-code" id="simplified-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 492</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">simplified</span>(<span class="ruby-identifier">content_type</span>, <span class="ruby-identifier">remove_x_prefix</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">simplify_matchdata</span>(<span class="ruby-identifier">match</span>(<span class="ruby-identifier">content_type</span>), <span class="ruby-identifier">remove_x_prefix</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Class Methods</h3>
       </header>

    
      <div id="method-c-simplify_matchdata" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">simplify_matchdata</span><span
            class="method-args">(matchdata, remove_x = false, joiner: '/'.freeze) { |e| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="simplify_matchdata-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 517</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">simplify_matchdata</span>(<span class="ruby-identifier">matchdata</span>, <span class="ruby-identifier">remove_x</span> = <span class="ruby-keyword">false</span>, <span class="ruby-identifier">joiner</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;/&#39;</span>.<span class="ruby-identifier">freeze</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">matchdata</span>

  <span class="ruby-identifier">matchdata</span>.<span class="ruby-identifier">captures</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">e</span>.<span class="ruby-identifier">downcase!</span>
    <span class="ruby-identifier">e</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp">%r{^x-}</span>, <span class="ruby-string">&#39;&#39;</span>.<span class="ruby-identifier">freeze</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">remove_x</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">e</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">e</span>
  }.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">joiner</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-3C-3D-3E" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">&lt;=&gt;</span><span
            class="method-args">(other)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Compares the <code>other</code> <a href="Type.html">MIME::Type</a> against
the exact content type or the simplified type (the simplified type will be
used if comparing against something that can be treated as a String with <a
href="Type.html#method-i-to_s">to_s</a>). In comparisons, this is done
against the lowercase version of the <a href="Type.html">MIME::Type</a>.</p>
          
          

          
          <div class="method-source-code" id="3C-3D-3E-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 126</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">&lt;=&gt;</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-value">-1</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:simplified</span>)
    <span class="ruby-identifier">simplified</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">simplified</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">simplified</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">simplified</span>(<span class="ruby-identifier">other</span>.<span class="ruby-identifier">to_s</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-add_extensions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_extensions</span><span
            class="method-args">(*extensions)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Merge the <code>extensions</code> provided into this <a
href="Type.html">MIME::Type</a>. The extensions added will be merged
uniquely.</p>
          
          

          
          <div class="method-source-code" id="add_extensions-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 244</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_extensions</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">extensions</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">extensions</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">extensions</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ascii-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ascii?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="../MIME.html">MIME</a> types can be specified to be sent across a
network in particular formats. This method returns <code>false</code> when
the <a href="Type.html">MIME::Type</a> encoding is set to
<code>base64</code>.</p>
          
          

          
          <div class="method-source-code" id="ascii-3F-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 396</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ascii?</span>
  <span class="ruby-constant">ASCII_ENCODINGS</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">encoding</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-binary-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">binary?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="../MIME.html">MIME</a> types can be specified to be sent across a
network in particular formats. This method returns <code>true</code> when
the <a href="Type.html">MIME::Type</a> encoding is set to
<code>base64</code>.</p>
          
          

          
          <div class="method-source-code" id="binary-3F-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 389</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">binary?</span>
  <span class="ruby-constant">BINARY_ENCODINGS</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">encoding</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-complete-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">complete?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns <code>true</code> if the <a href="Type.html">MIME::Type</a>
specifies an extension list, indicating that it is a complete <a
href="Type.html">MIME::Type</a>.</p>
          
          

          
          <div class="method-source-code" id="complete-3F-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 406</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">complete?</span>
  <span class="ruby-operator">!</span><span class="ruby-ivar">@extensions</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-default_encoding" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">default_encoding</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the default encoding for the <a href="Type.html">MIME::Type</a>
based on the media type.</p>
          
          

          
          <div class="method-source-code" id="default_encoding-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 297</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">default_encoding</span>
  (<span class="ruby-ivar">@media_type</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;text&#39;</span>) <span class="ruby-operator">?</span> <span class="ruby-string">&#39;quoted-printable&#39;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&#39;base64&#39;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-encode_with" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">encode_with</span><span
            class="method-args">(coder)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Populates the <code>coder</code> with attributes about this record for
serialization. The structure of <code>coder</code> should match the
structure used with <a href="Type.html#method-i-init_with">init_with</a>.</p>

<p>This method should be considered a private implementation detail.</p>
          
          

          
          <div class="method-source-code" id="encode_with-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 440</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">encode_with</span>(<span class="ruby-identifier">coder</span>)
  <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;content-type&#39;</span>]        = <span class="ruby-ivar">@content_type</span>
  <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;docs&#39;</span>]                = <span class="ruby-ivar">@docs</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@docs</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">or</span> <span class="ruby-ivar">@docs</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@friendly</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">or</span> <span class="ruby-ivar">@friendly</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;friendly&#39;</span>]            = <span class="ruby-ivar">@friendly</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;encoding&#39;</span>]            = <span class="ruby-ivar">@encoding</span>
  <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;extensions&#39;</span>]          = <span class="ruby-ivar">@extensions</span>.<span class="ruby-identifier">to_a</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@extensions</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;preferred-extension&#39;</span>] = <span class="ruby-ivar">@preferred_extension</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@preferred_extension</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">obsolete?</span>
    <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;obsolete&#39;</span>]          = <span class="ruby-identifier">obsolete?</span>
    <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;use-instead&#39;</span>]       = <span class="ruby-identifier">use_instead</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">use_instead</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;xrefs&#39;</span>]               = <span class="ruby-identifier">xrefs</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">xrefs</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;registered&#39;</span>]          = <span class="ruby-identifier">registered?</span>
  <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;signature&#39;</span>]           = <span class="ruby-identifier">signature?</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">signature?</span>
  <span class="ruby-identifier">coder</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-eql-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">eql?</span><span
            class="method-args">(other)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns <code>true</code> if the <code>other</code> object is a <a
href="Type.html">MIME::Type</a> and the content types match.</p>
          
          

          
          <div class="method-source-code" id="eql-3F-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 179</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-identifier">other</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>) <span class="ruby-keyword">and</span> <span class="ruby-keyword">self</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-extensions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">extensions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The list of extensions which are known to be used for this <a
href="Type.html">MIME::Type</a>. Non-array values will be coerced into an
array with to_a. Array values will be flattened, <code>nil</code> values
removed, and made unique.</p>

<p>:attr_accessor: extensions</p>
          
          

          
          <div class="method-source-code" id="extensions-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 232</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extensions</span>
  <span class="ruby-ivar">@extensions</span>.<span class="ruby-identifier">to_a</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-friendly" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            friendly         # &rarr; &quot;Text File&quot;
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            friendly(&#39;en&#39;)   # &rarr; &quot;Text File&quot;
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>A friendly short description for this <a href="Type.html">MIME::Type</a>.</p>
          
          

          
          <div class="method-source-code" id="friendly-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 328</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">friendly</span>(<span class="ruby-identifier">lang</span> = <span class="ruby-string">&#39;en&#39;</span>.<span class="ruby-identifier">freeze</span>)
  <span class="ruby-ivar">@friendly</span> <span class="ruby-operator">||=</span> {}

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">lang</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>, <span class="ruby-constant">Symbol</span>
    <span class="ruby-ivar">@friendly</span>[<span class="ruby-identifier">lang</span>.<span class="ruby-identifier">to_s</span>]
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>
    <span class="ruby-ivar">@friendly</span>.<span class="ruby-identifier">update</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">lang</span>])
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>
    <span class="ruby-ivar">@friendly</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">lang</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-constant">ArgumentError</span>,
      <span class="ruby-node">&quot;Expected a language or translation set, not #{lang.inspect}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-init_with" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">init_with</span><span
            class="method-args">(coder)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Initialize an empty object from <code>coder</code>, which must contain the
attributes necessary for initializing an empty object.</p>

<p>This method should be considered a private implementation detail.</p>
          
          

          
          <div class="method-source-code" id="init_with-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 463</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">init_with</span>(<span class="ruby-identifier">coder</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">content_type</span>        = <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;content-type&#39;</span>]
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">docs</span>                = <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;docs&#39;</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&#39;&#39;</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">encoding</span>            = <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;encoding&#39;</span>]
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">extensions</span>          = <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;extensions&#39;</span>] <span class="ruby-operator">||</span> []
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">preferred_extension</span> = <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;preferred-extension&#39;</span>]
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">obsolete</span>            = <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;obsolete&#39;</span>] <span class="ruby-operator">||</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">registered</span>          = <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;registered&#39;</span>] <span class="ruby-operator">||</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">signature</span>           = <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;signature&#39;</span>]
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">xrefs</span>               = <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;xrefs&#39;</span>] <span class="ruby-operator">||</span> {}
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">use_instead</span>         = <span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;use-instead&#39;</span>]

  <span class="ruby-identifier">friendly</span>(<span class="ruby-identifier">coder</span>[<span class="ruby-string">&#39;friendly&#39;</span>] <span class="ruby-operator">||</span> {})
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-like-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">like?</span><span
            class="method-args">(other)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Indicates that a <a href="../MIME.html">MIME</a> type is like another type.
This differs from <code>==</code> because <code>x-</code> prefixes are
removed for this comparison.</p>
          
          

          
          <div class="method-source-code" id="like-3F-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 113</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">like?</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-identifier">other</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:simplified</span>)
            <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">simplified</span>(<span class="ruby-identifier">other</span>.<span class="ruby-identifier">simplified</span>, <span class="ruby-identifier">remove_x_prefix</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>)
          <span class="ruby-keyword">else</span>
            <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">simplified</span>(<span class="ruby-identifier">other</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">remove_x_prefix</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>)
          <span class="ruby-keyword">end</span>
  <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">simplified</span>(<span class="ruby-identifier">simplified</span>, <span class="ruby-identifier">remove_x_prefix</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-priority_compare" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">priority_compare</span><span
            class="method-args">(other)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Compares the <code>other</code> <a href="Type.html">MIME::Type</a> based on
how reliable it is before doing a normal &lt;=&gt; comparison. Used by <a
href="Types.html#method-i-5B-5D">MIME::Types#[]</a> to sort types. The
comparisons involved are:</p>
<ol><li>
<p>self.simplified &lt;=&gt; other.simplified (ensures that we don&#39;t try
to compare different types)</p>
</li><li>
<p>IANA-registered definitions &lt; other definitions.</p>
</li><li>
<p>Complete definitions &lt; incomplete definitions.</p>
</li><li>
<p>Current definitions &lt; obsolete definitions.</p>
</li><li>
<p>Obselete with use-instead names &lt; obsolete without.</p>
</li><li>
<p>Obsolete use-instead definitions are compared.</p>
</li></ol>

<p>While this method is public, its use is strongly discouraged by consumers
of mime-types. In mime-types 3, this method is likely to see substantial
revision and simplification to ensure current registered content types sort
before unregistered or obsolete content types.</p>
          
          

          
          <div class="method-source-code" id="priority_compare-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 152</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">priority_compare</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-identifier">pc</span> = <span class="ruby-identifier">simplified</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">simplified</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">zero?</span>
    <span class="ruby-identifier">pc</span> = <span class="ruby-keyword">if</span> (<span class="ruby-identifier">reg</span> = <span class="ruby-identifier">registered?</span>) <span class="ruby-operator">!=</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">registered?</span>
           <span class="ruby-identifier">reg</span> <span class="ruby-operator">?</span> <span class="ruby-value">-1</span> <span class="ruby-operator">:</span> <span class="ruby-value">1</span> <span class="ruby-comment"># registered &lt; unregistered</span>
         <span class="ruby-keyword">elsif</span> (<span class="ruby-identifier">comp</span> = <span class="ruby-identifier">complete?</span>) <span class="ruby-operator">!=</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">complete?</span>
           <span class="ruby-identifier">comp</span> <span class="ruby-operator">?</span> <span class="ruby-value">-1</span> <span class="ruby-operator">:</span> <span class="ruby-value">1</span> <span class="ruby-comment"># complete &lt; incomplete</span>
         <span class="ruby-keyword">elsif</span> (<span class="ruby-identifier">obs</span> = <span class="ruby-identifier">obsolete?</span>) <span class="ruby-operator">!=</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">obsolete?</span>
           <span class="ruby-identifier">obs</span> <span class="ruby-operator">?</span> <span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-value">-1</span> <span class="ruby-comment"># current &lt; obsolete</span>
         <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">obs</span> <span class="ruby-keyword">and</span> ((<span class="ruby-identifier">ui</span> = <span class="ruby-identifier">use_instead</span>) <span class="ruby-operator">!=</span> (<span class="ruby-identifier">oui</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">use_instead</span>))
           <span class="ruby-keyword">if</span> <span class="ruby-identifier">ui</span>.<span class="ruby-identifier">nil?</span>
             <span class="ruby-value">1</span>
           <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">oui</span>.<span class="ruby-identifier">nil?</span>
             <span class="ruby-value">-1</span>
           <span class="ruby-keyword">else</span>
             <span class="ruby-identifier">ui</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">oui</span>
           <span class="ruby-keyword">end</span>
         <span class="ruby-keyword">else</span>
           <span class="ruby-value">0</span>
         <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">pc</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_h" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_h</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts the <a href="Type.html">MIME::Type</a> to a hash. The output of
this method can also be used to initialize a <a
href="Type.html">MIME::Type</a>.</p>
          
          

          
          <div class="method-source-code" id="to_h-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 431</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_h</span>
  <span class="ruby-identifier">encode_with</span>({})
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_json" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_json</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts the <a href="Type.html">MIME::Type</a> to a JSON string.</p>
          
          

          
          <div class="method-source-code" id="to_json-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 424</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;json&#39;</span>
  <span class="ruby-identifier">to_h</span>.<span class="ruby-identifier">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_s" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_s</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the <a href="Type.html">MIME::Type</a> as a string.</p>
          
          

          
          <div class="method-source-code" id="to_s-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 411</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">content_type</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_str" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_str</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the <a href="Type.html">MIME::Type</a> as a string for implicit
conversions. This allows <a href="Type.html">MIME::Type</a> objects to
appear on either side of a comparison.</p>

<pre class="ruby"><span class="ruby-string">&#39;text/plain&#39;</span> <span class="ruby-operator">==</span> <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;text/plain&#39;</span>)
</pre>
          
          

          
          <div class="method-source-code" id="to_str-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 419</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_str</span>
  <span class="ruby-identifier">content_type</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-xref_urls" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">xref_urls</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The decoded cross-reference URL list for this <a
href="Type.html">MIME::Type</a>.</p>
          
          

          
          <div class="method-source-code" id="xref_urls-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 375</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">xref_urls</span>
  <span class="ruby-identifier">xrefs</span>.<span class="ruby-identifier">flat_map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">type</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-value">:&quot;xref_url_for_#{type.tr(&#39;-&#39;, &#39;_&#39;)}&quot;</span>
    <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">name</span>, <span class="ruby-keyword">true</span>) <span class="ruby-keyword">and</span> <span class="ruby-identifier">xref_map</span>(<span class="ruby-identifier">values</span>, <span class="ruby-identifier">name</span>) <span class="ruby-keyword">or</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">to_a</span>
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-content_type-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content_type=</span><span
            class="method-args">(type_string)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="content_type-3D-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 531</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content_type=</span>(<span class="ruby-identifier">type_string</span>)
  <span class="ruby-identifier">match</span> = <span class="ruby-constant">MEDIA_TYPE_RE</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">type_string</span>)
  <span class="ruby-identifier">fail</span> <span class="ruby-constant">InvalidContentType</span>, <span class="ruby-identifier">type_string</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">match</span>.<span class="ruby-identifier">nil?</span>

  <span class="ruby-ivar">@content_type</span>                  = <span class="ruby-identifier">type_string</span>
  <span class="ruby-ivar">@raw_media_type</span>, <span class="ruby-ivar">@raw_sub_type</span> = <span class="ruby-identifier">match</span>.<span class="ruby-identifier">captures</span>
  <span class="ruby-ivar">@simplified</span>                    = <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">simplified</span>(<span class="ruby-identifier">match</span>)
  <span class="ruby-ivar">@i18n_key</span>                      = <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">i18n_key</span>(<span class="ruby-identifier">match</span>)
  <span class="ruby-ivar">@media_type</span>, <span class="ruby-ivar">@sub_type</span>         = <span class="ruby-constant">MEDIA_TYPE_RE</span>.<span class="ruby-identifier">match</span>(<span class="ruby-ivar">@simplified</span>).<span class="ruby-identifier">captures</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-xref_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">xref_map</span><span
            class="method-args">(values, helper)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="xref_map-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 542</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">xref_map</span>(<span class="ruby-identifier">values</span>, <span class="ruby-identifier">helper</span>)
  <span class="ruby-identifier">values</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">send</span>(<span class="ruby-identifier">helper</span>, <span class="ruby-identifier">value</span>) }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-xref_url_for_draft" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">xref_url_for_draft</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="xref_url_for_draft-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 550</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">xref_url_for_draft</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-string">&#39;http://www.iana.org/go/%s&#39;</span>.<span class="ruby-identifier">freeze</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/\ARFC/</span>, <span class="ruby-string">&#39;draft&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-xref_url_for_person" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">xref_url_for_person</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="xref_url_for_person-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 558</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">xref_url_for_person</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-string">&#39;http://www.iana.org/assignments/media-types/media-types.xhtml#%s&#39;</span>.<span class="ruby-identifier">freeze</span> <span class="ruby-operator">%</span>
    <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-xref_url_for_rfc" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">xref_url_for_rfc</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="xref_url_for_rfc-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 546</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">xref_url_for_rfc</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-string">&#39;http://www.iana.org/go/%s&#39;</span>.<span class="ruby-identifier">freeze</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-xref_url_for_rfc_errata" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">xref_url_for_rfc_errata</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="xref_url_for_rfc_errata-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 554</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">xref_url_for_rfc_errata</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-string">&#39;http://www.rfc-editor.org/errata_search.php?eid=%s&#39;</span>.<span class="ruby-identifier">freeze</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-xref_url_for_template" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">xref_url_for_template</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="xref_url_for_template-source">
            <pre><span class="ruby-comment"># File lib/mime/type.rb, line 563</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">xref_url_for_template</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-string">&#39;http://www.iana.org/assignments/media-types/%s&#39;</span>.<span class="ruby-identifier">freeze</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

